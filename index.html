<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心電図マスター講座 - 波形を見極めよう！</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="enhanced_ecg.css">    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            line-height: 1.6;
        }
        
        .ecg-wave {
            stroke: #10b981;
            stroke-width: 2;
            fill: none;
        }
        
        .ecg-grid {
            stroke: #fca5a5;
            stroke-width: 0.5;
            opacity: 0.7;
        }
        
        .ecg-wave-abnormal {
            stroke: #ef4444;
            stroke-width: 2;
            fill: none;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-box {
            border-left: 4px solid #10b981;
            background: linear-gradient(90deg, #f0fdf4 0%, #ffffff 100%);
        }
        
        .answer-box {
            border-left: 4px solid #3b82f6;
            background: linear-gradient(90deg, #eff6ff 0%, #ffffff 100%);
        }
        
        .wave-container {
            position: relative;
            height: 120px;
            overflow: hidden;
            background: #1e293b;
            border-radius: 8px;
        }
        
        .section-divider {
            height: 3px;
            background: linear-gradient(90deg, #10b981, #3b82f6, #8b5cf6);
            margin: 2rem 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- ヘッダー -->
    <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h1 class="text-4xl font-bold mb-4">
                    <i class="fas fa-heartbeat text-red-300 mr-3"></i>
                    心電図マスター講座
                </h1>
                <p class="text-xl opacity-90">波形を見極めて、ハートのリズムを理解しよう！</p>
                <p class="text-lg mt-2 opacity-80">〜いっぺい先生と一緒に楽しく学ぶで〜</p>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="container mx-auto px-4 py-8">
        
        <!-- イントロダクション -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-rocket text-blue-500 mr-3"></i>
                    さあ、心電図の世界へようこそ！
                </h2>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-6">
                    <p class="text-lg text-gray-700">
                        <strong>みなさん、こんにちは！</strong><br>
                        今日は心電図（ECG）について一緒に学んでいこうと思うで！心電図って聞くと難しそうやけど、
                        実は心臓が「ドキドキ」してる電気の波形を見てるだけなんや。
                        波形のパターンを覚えたら、心臓の調子が分かるようになるから、めっちゃ面白いで！
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-4 bg-blue-50 rounded-lg">
                        <i class="fas fa-heart text-red-500 text-3xl mb-2"></i>
                        <h3 class="font-semibold">心臓の電気</h3>
                        <p class="text-sm text-gray-600">心筋の電気的興奮を記録</p>
                    </div>
                    <div class="text-center p-4 bg-green-50 rounded-lg">
                        <i class="fas fa-wave-square text-green-500 text-3xl mb-2"></i>
                        <h3 class="font-semibold">波形の意味</h3>
                        <p class="text-sm text-gray-600">P波、QRS波、T波の読み方</p>
                    </div>
                    <div class="text-center p-4 bg-purple-50 rounded-lg">
                        <i class="fas fa-stethoscope text-purple-500 text-3xl mb-2"></i>
                        <h3 class="font-semibold">診断のコツ</h3>
                        <p class="text-sm text-gray-600">不整脈の見分け方</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 第1章：心電図の基本概念 -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-book-open text-green-500 mr-3"></i>
                    第1章：心電図って何やねん？
                </h2>
                
                <div class="mb-8">
                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">心電図の仕組み</h3>
                    <div class="bg-blue-50 p-6 rounded-lg mb-6">
                        <p class="text-lg mb-4">
                            <strong>心電図（ECG: Electrocardiogram）</strong>は、心臓の筋肉（心筋）が電気的に興奮する様子を、
                            体の表面に貼った電極で記録する検査や。
                        </p>
                        <ul class="list-disc ml-6 space-y-2 text-gray-700">
                            <li><strong>陽性波（上向き）：</strong>電極に向かってくる興奮波</li>
                            <li><strong>陰性波（下向き）：</strong>電極から遠ざかっていく興奮波</li>
                            <li><strong>記録速度：</strong>通常25mm/秒（1mm = 0.04秒）</li>
                            <li><strong>電圧：</strong>1mV = 10mm（標準感度）</li>
                        </ul>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">正常な心電図の波形</h3>
                    <div class="wave-container mb-6">
                        <svg width="100%" height="120" viewBox="0 0 800 120">
                            <!-- グリッド -->
                            <defs>
                                <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                    <path d="M 20 0 L 0 0 0 20" class="ecg-grid"/>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            
                            <!-- 正常心電図の波形 -->
                            <path d="M 50 60 L 100 60 L 110 50 L 120 60 L 150 60 L 155 75 L 170 20 L 185 100 L 195 60 L 230 60 L 250 45 L 270 60 L 320 60 L 370 60 L 380 50 L 390 60 L 420 60 L 425 75 L 440 20 L 455 100 L 465 60 L 500 60 L 520 45 L 540 60 L 590 60 L 640 60 L 650 50 L 660 60 L 690 60 L 695 75 L 710 20 L 725 100 L 735 60 L 770 60" class="ecg-wave"/>
                            
                            <!-- ラベル -->
                            <text x="110" y="45" fill="#10b981" font-size="12" font-weight="bold">P</text>
                            <text x="170" y="15" fill="#10b981" font-size="12" font-weight="bold">R</text>
                            <text x="155" y="95" fill="#10b981" font-size="12" font-weight="bold">Q</text>
                            <text x="185" y="95" fill="#10b981" font-size="12" font-weight="bold">S</text>
                            <text x="250" y="40" fill="#10b981" font-size="12" font-weight="bold">T</text>
                        </svg>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-400">
                            <h4 class="font-bold text-green-800 mb-2">P波</h4>
                            <p class="text-sm text-gray-700">心房の興奮（脱分極）を表す小さな陽性波。正常値：高さ0.25mV以下、幅0.12秒以下</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                            <h4 class="font-bold text-blue-800 mb-2">QRS波</h4>
                            <p class="text-sm text-gray-700">心室の興奮を表す。Q波（小さな陰性波）、R波（大きな陽性波）、S波（R波に続く陰性波）。正常幅：0.10秒未満</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400">
                            <h4 class="font-bold text-purple-800 mb-2">T波</h4>
                            <p class="text-sm text-gray-700">心室の回復（再分極）を表す。通常は陽性で、QRS波と同じ方向</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                            <h4 class="font-bold text-yellow-800 mb-2">PR間隔</h4>
                            <p class="text-sm text-gray-700">P波開始からQRS開始まで。正常値：0.12～0.20秒</p>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-400">
                            <h4 class="font-bold text-red-800 mb-2">QT間隔</h4>
                            <p class="text-sm text-gray-700">QRS開始からT波終了まで。補正QT間隔（QTc）：0.36～0.44秒</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-400">
                            <h4 class="font-bold text-gray-800 mb-2">U波</h4>
                            <p class="text-sm text-gray-700">T波の後に現れることもある小波。通常は見られない</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 第2章：心電図の読み方 -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-search text-blue-500 mr-3"></i>
                    第2章：心電図の読み方のコツ
                </h2>

                <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg mb-8">
                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">判読の順序（これ大事やで！）</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <ol class="list-decimal ml-6 space-y-3 text-gray-700">
                            <li><strong>記録条件の確認</strong><br>感度、紙送り速度、電極装着</li>
                            <li><strong>リズムの確認</strong><br>RR間隔の規則性</li>
                            <li><strong>心拍数の計算</strong><br>60÷RR間隔（秒）</li>
                            <li><strong>P波とQRS波の関係</strong><br>洞調律かどうか</li>
                        </ol>
                        <ol class="list-decimal ml-6 space-y-3 text-gray-700" start="5">
                            <li><strong>波形と間隔</strong><br>PR、QRS、QT間隔</li>
                            <li><strong>電気軸</strong><br>I、II誘導、aVr参照</li>
                            <li><strong>ST変化・異常波形</strong><br>ST上昇/下降、異常Q波</li>
                            <li><strong>病変部位の推定</strong><br>誘導ごとの所見</li>
                        </ol>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">心拍数の計算方法</h3>
                    <div class="bg-yellow-50 p-6 rounded-lg">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="text-center">
                                <h4 class="font-bold text-yellow-800 mb-2">基本公式</h4>
                                <p class="text-2xl font-bold text-yellow-600">60 ÷ RR間隔（秒）</p>
                                <p class="text-sm mt-2">1分間の心拍数</p>
                            </div>
                            <div class="text-center">
                                <h4 class="font-bold text-yellow-800 mb-2">大マス法</h4>
                                <p class="text-2xl font-bold text-yellow-600">300 ÷ 大マス数</p>
                                <p class="text-sm mt-2">RR間隔の大マス数で割る</p>
                            </div>
                            <div class="text-center">
                                <h4 class="font-bold text-yellow-800 mb-2">6秒法</h4>
                                <p class="text-2xl font-bold text-yellow-600">QRS数 × 10</p>
                                <p class="text-sm mt-2">6秒間のQRS数を10倍</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 第3章：主要な不整脈 -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-exclamation-triangle text-red-500 mr-3"></i>
                    第3章：知っておきたい不整脈たち
                </h2>

                <!-- 頻脈性不整脈 -->
                <div class="mb-10">
                    <h3 class="text-2xl font-semibold text-red-600 mb-6 flex items-center">
                        <i class="fas fa-tachometer-alt mr-2"></i>
                        頻脈性不整脈（>100回/分）
                    </h3>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- 心房期外収縮 -->
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-400">
                            <h4 class="text-xl font-bold text-red-800 mb-3">心房期外収縮（APC）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 60 40 L 65 30 L 70 40 L 90 40 L 95 50 L 105 15 L 115 65 L 120 40 L 150 40 L 160 25 L 170 40 L 200 40 L 220 40 L 225 30 L 230 40 L 250 40 L 255 50 L 265 15 L 275 65 L 280 40 L 310 40 L 320 35 L 330 40 L 360 40" class="ecg-wave"/>
                                    <circle cx="160" cy="25" r="3" fill="#ef4444"/>
                                    <text x="165" y="20" fill="#ef4444" font-size="10" font-weight="bold">異常P波</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• 先行P波を欠く、または形が異なるP波</li>
                                <li>• 予定より早く出現</li>
                                <li>• QRS波は正常幅</li>
                                <li>• 代償性休止期あり</li>
                            </ul>
                        </div>

                        <!-- 心室期外収縮 -->
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-400">
                            <h4 class="text-xl font-bold text-red-800 mb-3">心室期外収縮（VPC）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 60 40 L 65 30 L 70 40 L 90 40 L 95 50 L 105 15 L 115 65 L 120 40 L 150 40 L 170 60 L 190 10 L 210 70 L 230 40 L 270 40 L 275 30 L 280 40 L 300 40 L 305 50 L 315 15 L 325 65 L 330 40 L 360 40" class="ecg-wave-abnormal"/>
                                    <circle cx="190" cy="10" r="3" fill="#ef4444"/>
                                    <text x="175" y="5" fill="#ef4444" font-size="10" font-weight="bold">Wide QRS</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• 先行P波を欠く</li>
                                <li>• QRS幅が広い（Wide QRS）</li>
                                <li>• 代償性休止期あり</li>
                                <li>• 連発すると危険</li>
                            </ul>
                        </div>

                        <!-- 心房細動 -->
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-400">
                            <h4 class="text-xl font-bold text-red-800 mb-3">心房細動（AF）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 30 42 L 35 38 L 40 44 L 45 36 L 50 42 L 55 38 L 60 40 L 70 50 L 80 15 L 90 65 L 100 40 L 105 42 L 110 38 L 115 44 L 120 36 L 125 42 L 130 38 L 140 40 L 150 50 L 165 15 L 175 65 L 185 40 L 190 42 L 195 38 L 200 44 L 205 36 L 210 42 L 215 38 L 225 40 L 240 50 L 255 15 L 265 65 L 275 40" class="ecg-wave-abnormal"/>
                                    <text x="50" y="30" fill="#ef4444" font-size="10" font-weight="bold">細動波</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• P波消失</li>
                                <li>• 基線の細かい動揺（細動波）</li>
                                <li>• RR間隔が全く不整</li>
                                <li>• 塞栓症のリスクあり</li>
                            </ul>
                        </div>

                        <!-- 発作性上室頻拍 -->
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-400">
                            <h4 class="text-xl font-bold text-red-800 mb-3">発作性上室頻拍（PSVT）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 30 50 L 35 15 L 40 65 L 45 40 L 55 50 L 60 15 L 65 65 L 70 40 L 80 50 L 85 15 L 90 65 L 95 40 L 105 50 L 110 15 L 115 65 L 120 40 L 130 50 L 135 15 L 140 65 L 145 40 L 155 50 L 160 15 L 165 65 L 170 40 L 180 50 L 185 15 L 190 65 L 195 40" class="ecg-wave-abnormal"/>
                                    <text x="100" y="30" fill="#ef4444" font-size="10" font-weight="bold">Narrow QRS</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• 狭いQRS（Narrow QRS）</li>
                                <li>• 規則的頻拍（140-220/分）</li>
                                <li>• 突然発症・停止</li>
                                <li>• 頚動脈洞圧迫で停止</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 徐脈性不整脈 -->
                <div class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-600 mb-6 flex items-center">
                        <i class="fas fa-hourglass-half mr-2"></i>
                        徐脈性不整脈（<60回/分）
                    </h3>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- 完全房室ブロック -->
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400">
                            <h4 class="text-xl font-bold text-blue-800 mb-3">完全房室ブロック（3度AVB）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 40 40 L 45 30 L 50 40 L 70 40 L 75 30 L 80 40 L 100 40 L 105 30 L 110 40 L 130 40 L 140 50 L 150 15 L 160 65 L 170 40 L 200 40 L 205 30 L 210 40 L 230 40 L 235 30 L 240 40 L 260 40 L 265 30 L 270 40 L 290 40 L 300 50 L 310 15 L 320 65 L 330 40" class="ecg-wave-abnormal"/>
                                    <text x="45" y="25" fill="#3b82f6" font-size="8">P</text>
                                    <text x="75" y="25" fill="#3b82f6" font-size="8">P</text>
                                    <text x="105" y="25" fill="#3b82f6" font-size="8">P</text>
                                    <text x="150" y="10" fill="#3b82f6" font-size="8">QRS</text>
                                    <text x="310" y="10" fill="#3b82f6" font-size="8">QRS</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• P波とQRS波が独立</li>
                                <li>• P波の方が多い</li>
                                <li>• QRS波は規則的だが遅い</li>
                                <li>• 失神やAdams-Stokes発作</li>
                            </ul>
                        </div>

                        <!-- Wenckebach型2度房室ブロック -->
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400">
                            <h4 class="text-xl font-bold text-blue-800 mb-3">Wenckebach型（2度AVB）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 40 40 L 45 30 L 50 40 L 70 40 L 75 50 L 85 15 L 95 65 L 100 40 L 120 40 L 125 30 L 130 40 L 155 40 L 160 50 L 170 15 L 180 65 L 185 40 L 205 40 L 210 30 L 215 40 L 250 40 L 255 30 L 260 40 L 280 40 L 285 50 L 295 15 L 305 65 L 310 40" class="ecg-wave-abnormal"/>
                                    <line x1="50" y1="70" x2="75" y2="70" stroke="#3b82f6" stroke-width="2"/>
                                    <line x1="130" y1="70" x2="160" y2="70" stroke="#3b82f6" stroke-width="2"/>
                                    <text x="60" y="75" fill="#3b82f6" font-size="8">短</text>
                                    <text x="140" y="75" fill="#3b82f6" font-size="8">長</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• PQ間隔が徐々に延長</li>
                                <li>• QRS波が1回脱落</li>
                                <li>• 脱落後にPQ間隔が短縮</li>
                                <li>• 比較的軽症</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 特殊な症候群 -->
                <div class="mb-10">
                    <h3 class="text-2xl font-semibold text-purple-600 mb-6 flex items-center">
                        <i class="fas fa-star mr-2"></i>
                        特殊な症候群
                    </h3>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- QT延長症候群 -->
                        <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-400">
                            <h4 class="text-xl font-bold text-purple-800 mb-3">QT延長症候群（LQTS）</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 60 40 L 65 30 L 70 40 L 90 40 L 95 50 L 105 15 L 115 65 L 120 40 L 160 40 L 180 35 L 200 40 L 240 40 L 245 30 L 250 40 L 270 40 L 275 50 L 285 15 L 295 65 L 300 40 L 340 40 L 360 35 L 380 40" class="ecg-wave-abnormal"/>
                                    <line x1="105" y1="70" x2="200" y2="70" stroke="#8b5cf6" stroke-width="3"/>
                                    <text x="140" y="75" fill="#8b5cf6" font-size="10" font-weight="bold">QT延長</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• QTc > 0.48秒</li>
                                <li>• T波の形態異常</li>
                                <li>• Torsades de pointes（TdP）</li>
                                <li>• 突然死のリスク</li>
                            </ul>
                        </div>

                        <!-- WPW症候群 -->
                        <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-400">
                            <h4 class="text-xl font-bold text-purple-800 mb-3">WPW症候群</h4>
                            <div class="wave-container mb-4">
                                <svg width="100%" height="80" viewBox="0 0 400 80">
                                    <rect width="100%" height="100%" fill="url(#grid)"/>
                                    <path d="M 20 40 L 60 40 L 65 30 L 70 40 L 90 40 L 100 45 L 110 20 L 125 60 L 135 40 L 170 40 L 190 35 L 210 40 L 240 40 L 245 30 L 250 40 L 270 40 L 280 45 L 290 20 L 305 60 L 315 40 L 350 40" class="ecg-wave-abnormal"/>
                                    <circle cx="105" cy="37" r="3" fill="#8b5cf6"/>
                                    <text x="85" y="35" fill="#8b5cf6" font-size="10" font-weight="bold">δ波</text>
                                </svg>
                            </div>
                            <ul class="text-sm text-gray-700 space-y-1">
                                <li>• PQ間隔短縮（<0.12秒）</li>
                                <li>• Delta波（QRS初期部のなだらか上昇）</li>
                                <li>• QRS幅拡大</li>
                                <li>• 発作性頻拍を合併</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 第4章：練習問題 -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-question-circle text-green-500 mr-3"></i>
                    第4章：練習問題に挑戦や！
                </h2>

                <div class="mb-8">
                    <p class="text-lg text-gray-700 mb-4">
                        さあ、これまで学んだことを活かして練習問題にチャレンジしてみよう！
                        各問題の下に解答と解説があるから、しっかり理解を深めてな〜
                    </p>
                </div>

                <!-- 問題1 -->
                <div class="question-box p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                        <i class="fas fa-clipboard-question mr-2"></i>
                        問題1：基本波形の識別
                    </h3>
                    <div class="wave-container mb-4">
                        <svg width="100%" height="120" viewBox="0 0 600 120">
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            <path d="M 50 60 L 100 60 L 110 50 L 120 60 L 150 60 L 155 75 L 170 20 L 185 100 L 195 60 L 230 60 L 250 45 L 270 60 L 320 60 L 370 60 L 380 50 L 390 60 L 420 60 L 425 75 L 440 20 L 455 100 L 465 60 L 500 60 L 520 45 L 540 60" class="ecg-wave"/>
                        </svg>
                    </div>
                    <p class="text-lg mb-4">この心電図の波形で、以下の質問に答えてください：</p>
                    <ol class="list-decimal ml-6 space-y-2 text-gray-700">
                        <li>P波、QRS波、T波はそれぞれどこにありますか？</li>
                        <li>この心電図のリズムは正常ですか？</li>
                        <li>心拍数はおおよそ何回/分ですか？</li>
                    </ol>
                </div>

                <div class="answer-box p-6 rounded-lg mb-8">
                    <h4 class="text-lg font-bold text-blue-800 mb-3 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        解答・解説
                    </h4>
                    <div class="space-y-3 text-gray-700">
                        <p><strong>1. 波形の同定：</strong></p>
                        <ul class="list-disc ml-6 mb-3">
                            <li>P波：小さな陽性波（110、380付近）</li>
                            <li>QRS波：大きな陽性波とその前後の小さな陰性波（170、440付近）</li>
                            <li>T波：QRS波の後に続く陽性波（250、520付近）</li>
                        </ul>
                        <p><strong>2. リズム：</strong>正常洞調律。P波が規則的にQRS波に先行している。</p>
                        <p><strong>3. 心拍数：</strong>約75回/分（RR間隔から計算）</p>
                        <div class="bg-blue-50 p-4 rounded mt-4">
                            <p class="font-semibold">ポイント：</p>
                            <p>正常心電図では、P-QRS-Tの順番で規則的に波形が現れるで！</p>
                        </div>
                    </div>
                </div>

                <!-- 問題2 -->
                <div class="question-box p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                        <i class="fas fa-clipboard-question mr-2"></i>
                        問題2：不整脈の鑑別
                    </h3>
                    <div class="wave-container mb-4">
                        <svg width="100%" height="120" viewBox="0 0 600 120">
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            <path d="M 50 60 L 80 60 L 85 30 L 90 60 L 110 60 L 115 75 L 125 20 L 135 100 L 145 60 L 175 60 L 195 75 L 215 10 L 235 90 L 255 60 L 290 60 L 300 60 L 305 30 L 310 60 L 330 60 L 335 75 L 345 20 L 355 100 L 365 60 L 395 60 L 415 45 L 435 60" class="ecg-wave-abnormal"/>
                        </svg>
                    </div>
                    <p class="text-lg mb-4">この心電図で見られる異常は何でしょうか？</p>
                    <ol class="list-decimal ml-6 space-y-2 text-gray-700">
                        <li>異常な波形の特徴を説明してください</li>
                        <li>考えられる不整脈の診断は？</li>
                        <li>治療上の注意点があれば教えてください</li>
                    </ol>
                </div>

                <div class="answer-box p-6 rounded-lg mb-8">
                    <h4 class="text-lg font-bold text-blue-800 mb-3 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        解答・解説
                    </h4>
                    <div class="space-y-3 text-gray-700">
                        <p><strong>1. 異常波形の特徴：</strong></p>
                        <ul class="list-disc ml-6 mb-3">
                            <li>先行P波を欠くwide QRS波が見られる</li>
                            <li>正常なQRS波と形態が大きく異なる</li>
                            <li>代償性休止期がある</li>
                        </ul>
                        <p><strong>2. 診断：</strong>心室期外収縮（VPC）</p>
                        <p><strong>3. 治療上の注意点：</strong></p>
                        <ul class="list-disc ml-6">
                            <li>連発（2連発以上）していないか確認</li>
                            <li>RonT型（T波上に乗る）の場合は特に注意</li>
                            <li>頻度が高い場合は抗不整脈薬の検討</li>
                        </ul>
                        <div class="bg-blue-50 p-4 rounded mt-4">
                            <p class="font-semibold">ポイント：</p>
                            <p>VPCは「Wide QRS」「先行P波なし」「代償性休止期」がキーワードや！</p>
                        </div>
                    </div>
                </div>

                <!-- 問題3 -->
                <div class="question-box p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                        <i class="fas fa-clipboard-question mr-2"></i>
                        問題3：徐脈性不整脈
                    </h3>
                    <div class="wave-container mb-4">
                        <svg width="100%" height="120" viewBox="0 0 600 120">
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            <path d="M 50 60 L 80 60 L 85 50 L 90 60 L 120 60 L 125 50 L 130 60 L 160 60 L 165 50 L 170 60 L 200 60 L 210 75 L 220 20 L 230 100 L 240 60 L 290 60 L 295 50 L 300 60 L 330 60 L 335 50 L 340 60 L 370 60 L 375 50 L 380 60 L 410 60 L 420 75 L 430 20 L 440 100 L 450 60" class="ecg-wave-abnormal"/>
                        </svg>
                    </div>
                    <p class="text-lg mb-4">この心電図の所見について答えてください：</p>
                    <ol class="list-decimal ml-6 space-y-2 text-gray-700">
                        <li>P波とQRS波の関係はどうなっていますか？</li>
                        <li>考えられる診断は？</li>
                        <li>この患者に起こりうる症状は？</li>
                    </ol>
                </div>

                <div class="answer-box p-6 rounded-lg mb-8">
                    <h4 class="text-lg font-bold text-blue-800 mb-3 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        解答・解説
                    </h4>
                    <div class="space-y-3 text-gray-700">
                        <p><strong>1. P波とQRS波の関係：</strong></p>
                        <ul class="list-disc ml-6 mb-3">
                            <li>P波はQRS波より多く、規則的に出現</li>
                            <li>P波とQRS波が完全に独立している</li>
                            <li>QRS波も規則的だが、P波との関連性がない</li>
                        </ul>
                        <p><strong>2. 診断：</strong>完全房室ブロック（3度房室ブロック）</p>
                        <p><strong>3. 起こりうる症状：</strong></p>
                        <ul class="list-disc ml-6">
                            <li>徐脈による意識消失発作（Adams-Stokes発作）</li>
                            <li>心不全症状（息切れ、浮腫）</li>
                            <li>大砲音（第1音の増強）</li>
                        </ul>
                        <div class="bg-blue-50 p-4 rounded mt-4">
                            <p class="font-semibold">ポイント：</p>
                            <p>完全房室ブロックは緊急性が高く、ペースメーカー治療が必要になることが多いで！</p>
                        </div>
                    </div>
                </div>

                <!-- 問題4 -->
                <div class="question-box p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                        <i class="fas fa-clipboard-question mr-2"></i>
                        問題4：QT間隔の評価
                    </h3>
                    <div class="wave-container mb-4">
                        <svg width="100%" height="120" viewBox="0 0 600 120">
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            <path d="M 50 60 L 100 60 L 110 50 L 120 60 L 150 60 L 155 75 L 170 20 L 185 100 L 195 60 L 260 60 L 300 45 L 340 60 L 390 60 L 400 50 L 410 60 L 440 60 L 445 75 L 460 20 L 475 100 L 485 60 L 550 60" class="ecg-wave-abnormal"/>
                            <line x1="170" y1="110" x2="340" y2="110" stroke="#ef4444" stroke-width="3"/>
                            <text x="240" y="105" fill="#ef4444" font-size="12" font-weight="bold">QT間隔</text>
                        </svg>
                    </div>
                    <p class="text-lg mb-4">この心電図のQT間隔について評価してください：</p>
                    <ol class="list-decimal ml-6 space-y-2 text-gray-700">
                        <li>QT間隔は正常範囲内ですか？</li>
                        <li>この所見から考えられる疾患は？</li>
                        <li>注意すべき合併症は？</li>
                    </ol>
                </div>

                <div class="answer-box p-6 rounded-lg mb-8">
                    <h4 class="text-lg font-bold text-blue-800 mb-3 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        解答・解説
                    </h4>
                    <div class="space-y-3 text-gray-700">
                        <p><strong>1. QT間隔の評価：</strong></p>
                        <ul class="list-disc ml-6 mb-3">
                            <li>QT間隔が明らかに延長している</li>
                            <li>正常値（QTc: 0.36-0.44秒）を大幅に超えている</li>
                            <li>心拍数で補正した場合も延長</li>
                        </ul>
                        <p><strong>2. 考えられる疾患：</strong>QT延長症候群（Long QT Syndrome: LQTS）</p>
                        <p><strong>3. 注意すべき合併症：</strong></p>
                        <ul class="list-disc ml-6">
                            <li>Torsades de Pointes（TdP）の発生</li>
                            <li>心室細動への移行</li>
                            <li>突然死のリスク</li>
                        </ul>
                        <div class="bg-blue-50 p-4 rounded mt-4">
                            <p class="font-semibold">ポイント：</p>
                            <p>QT延長は致命的不整脈のトリガーになるから、早期発見・治療が大切やで！</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- まとめ -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-graduation-cap text-purple-500 mr-3"></i>
                    まとめ：心電図マスターへの道
                </h2>

                <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-8 rounded-lg mb-8">
                    <h3 class="text-2xl font-semibold text-gray-700 mb-6">心電図読影のポイント総まとめ</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-xl font-bold text-purple-800 mb-4">基本の「き」</h4>
                            <ul class="space-y-2 text-gray-700">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                    P波、QRS波、T波の形と意味を理解
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                    正常値を覚える（PR: 0.12-0.20秒、QRS: <0.10秒）
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                    心拍数の計算方法をマスター
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                    リズムの規則性を確認
                                </li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="text-xl font-bold text-purple-800 mb-4">不整脈のサイン</h4>
                            <ul class="space-y-2 text-gray-700">
                                <li class="flex items-start">
                                    <i class="fas fa-exclamation-triangle text-red-500 mr-2 mt-1"></i>
                                    Wide QRS → 心室性不整脈を疑う
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-exclamation-triangle text-red-500 mr-2 mt-1"></i>
                                    P波消失 → 心房細動を疑う
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-exclamation-triangle text-red-500 mr-2 mt-1"></i>
                                    QT延長 → TdPのリスクあり
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-exclamation-triangle text-red-500 mr-2 mt-1"></i>
                                    P波とQRS波の解離 → 完全AVB
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="bg-green-50 p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-bold text-green-800 mb-4">学習のコツ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <i class="fas fa-eye text-green-600 text-2xl mb-2"></i>
                            <h4 class="font-semibold mb-2">見る習慣</h4>
                            <p class="text-sm text-gray-700">たくさんの心電図を見て、パターンを覚える</p>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-brain text-green-600 text-2xl mb-2"></i>
                            <h4 class="font-semibold mb-2">理解する</h4>
                            <p class="text-sm text-gray-700">なぜその波形になるのか、生理学的背景を考える</p>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-repeat text-green-600 text-2xl mb-2"></i>
                            <h4 class="font-semibold mb-2">反復練習</h4>
                            <p class="text-sm text-gray-700">実際の症例で繰り返し練習する</p>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-4">おつかれさまでした！</h3>
                        <p class="text-lg">
                            心電図は最初は難しく感じるかもしれへんけど、<br>
                            コツを掴んだら絶対に読めるようになるで！<br>
                            臨床現場で患者さんのために役立ててな〜
                        </p>
                        <div class="mt-4 text-3xl">
                            <i class="fas fa-heart text-red-300 pulse mr-2"></i>
                            がんばって！
                            <i class="fas fa-heart text-red-300 pulse ml-2"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 参考資料 -->
        <section class="mb-12 fade-in">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-book text-blue-500 mr-3"></i>
                    参考資料・さらに学習したい方へ
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-blue-800 mb-4">推奨教科書</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>• 病気がみえる 循環器（今回使用した資料）</li>
                            <li>• 心電図の読み方パーフェクトマニュアル</li>
                            <li>• レジデントのための循環器診療</li>
                            <li>• 不整脈学</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-green-800 mb-4">オンライン学習</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>• 心電図クイズサイト</li>
                            <li>• 循環器学会の教育コンテンツ</li>
                            <li>• YouTube医学チャンネル</li>
                            <li>• 医学部学習アプリ</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-8 text-center text-gray-600">
                    <p class="mb-2">
                        この資料は「病気がみえる 心電図・不整脈」を参考に、<br>
                        教育目的で作成されました。
                    </p>
                    <p class="text-sm">
                        実際の臨床では、必ず指導医と相談の上で診断・治療を行ってください。
                    </p>
                </div>
            </div>
        </section>

    </main>

    <!-- フッター -->
    <footer class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg mb-2">
                <i class="fas fa-heartbeat text-red-300 mr-2"></i>
                心電図マスター講座
            </p>
            <p class="opacity-80">
                みんなで一緒に心電図を極めよう！
            </p>
        </div>
    </footer>

    <!-- JavaScriptで動的効果 -->
    <script>
        // ECGアニメーター初期化
        let ecgAnimator;
        
        // ページロード後にアニメーション開始
        window.addEventListener("load", function() {
            // 既存のフェードイン効果
            const elements = document.querySelectorAll(".fade-in");
            elements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = "1";
                    el.style.transform = "translateY(0)";
                }, index * 200);
            });

            // 高品質心電図アニメーションを初期化
            setTimeout(() => {
                ecgAnimator = new ECGAnimator();
                setTimeout(() => {
                    ecgAnimator.animateStaticWaves();
                }, 1000);
            }, 2000);
        });    </script>
    <script src="enhanced_ecg.js"></script></body>
</html>
    